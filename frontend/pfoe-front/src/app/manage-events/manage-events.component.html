<div (click)="loseFocus()">
  <div class="button-container" [ngStyle]="{'margin-top': '25px', 'margin-left': '30px'}">
    <button mat-raised-button color="primary" class="rounded-button" (click)="handleNew()">NOWE</button>
    <button mat-raised-button color="accent" [ngClass]="isDarkStyle ? 'dark' : 'light'" class="rounded-button" [disabled]="!selectedRow" (click)="handleEdit()">EDYTUJ</button>
    <button mat-raised-button color="warn" class="rounded-button" [disabled]="!selectedRow" (click)="handleDelete()">USUŃ</button>
  </div>
  <div>
    <div class="table-container" [ngStyle]="{'margin': '30px 50px', 'display': 'flex', 'flex-direction': 'column'}">
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Nazwa</th>
          <td mat-cell *matCellDef="let event">
            <a (click)="loseFocus(); $event.stopPropagation()" class="text-decoration-none text-black"
               [routerLink]="['/event', event.id]">{{ event.name }}</a>
          </td>
        </ng-container>

        <!-- Location Column -->
        <ng-container matColumnDef="location">
          <th mat-header-cell *matHeaderCellDef>Lokalizacja</th>
          <td mat-cell *matCellDef="let event">{{ event.location }}</td>
        </ng-container>

        <!-- Category Column -->
        <ng-container matColumnDef="category">
          <th mat-header-cell *matHeaderCellDef>Kategoria</th>
          <td mat-cell *matCellDef="let event">{{ event.category }}</td>
        </ng-container>

        <!-- Date Column -->
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Data wydarzenia</th>
          <td mat-cell *matCellDef="let event">{{ event.date }}</td>
        </ng-container>

        <!-- Participant Number Column -->
        <ng-container matColumnDef="participantNumber">
          <th mat-header-cell *matHeaderCellDef>Ilość miejsc</th>
          <td mat-cell *matCellDef="let event">{{ event.participantNumber }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
        <tr mat-row *matRowDef="let row; columns: columnsToDisplay"
            (click)="selectRow(row); $event.stopPropagation()"
            [ngClass]="{'highlightTableColor': selectedRow === row}"></tr>
      </table>
      <mat-paginator class="shadowed-paginator" [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons></mat-paginator>
    </div>
  </div>
</div>
